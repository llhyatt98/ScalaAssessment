{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.interceptXMLHttpRequest = void 0;\n\nvar XMLHttpRequestOverride_1 = require(\"./XMLHttpRequestOverride\");\n\nvar debug = require('debug')('XHR');\n\nvar pureXMLHttpRequest = // Although executed in node, certain processes emulate the DOM-like environment\n// (i.e. `js-dom` in Jest). The `window` object would be avilable in such environments.\ntypeof window === 'undefined' ? undefined : window.XMLHttpRequest;\n/**\n * Intercepts requests issued via `XMLHttpRequest`.\n */\n\nvar interceptXMLHttpRequest = function (observer, resolver) {\n  if (pureXMLHttpRequest) {\n    debug('patching \"XMLHttpRequest\" module...');\n    var XMLHttpRequestOverride = XMLHttpRequestOverride_1.createXMLHttpRequestOverride({\n      pureXMLHttpRequest: pureXMLHttpRequest,\n      observer: observer,\n      resolver: resolver\n    });\n    window.XMLHttpRequest = XMLHttpRequestOverride;\n  }\n\n  return function () {\n    if (pureXMLHttpRequest) {\n      debug('restoring modules...');\n      window.XMLHttpRequest = pureXMLHttpRequest;\n    }\n  };\n};\n\nexports.interceptXMLHttpRequest = interceptXMLHttpRequest;","map":null,"metadata":{},"sourceType":"script"}